<!doctype html>
<!--
	Solution by GetTemplates.co
	URL: https://gettemplates.co
-->
<html lang="en">

<%-include('./layouts/header')%>

    <body>
        <%-include('./layouts/navber')%>
            <div class="container-fluid gtco-banner-area p-0 m-0" style="margin-bottom: 150px;">
                <div class="container">
                    <div class="row">
                        <div class="col-md-6">
                            <h1>
                                <%= banner.title %>
                            </h1>
                            <p style="color: brown;">
                                <%= banner.content %>
                            </p>
                            <a href="/contact">Contact Us <i class="fa fa-angle-right" aria-hidden="true"></i></a>
                        </div>
                        <div class="col-md-6">
                            <div class="card"><img class="card-img-top img-fluid" src="<%= banner.image %>" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- about section -->
            <div class="container-fluid gtco-feature" id="services" style="margin-bottom: 150px;">
                <div class="container">
                    <div class="row">
                        <% if(about){ %>
                            <div class="col-md-7">
                                <div class="cover">
                                    <div class="card">
                                        <svg class="back-bg" width="100%" viewBox="0 0 900 700"
                                            style="position:absolute; z-index: -1">
                                            <defs>
                                                <linearGradient id="PSgrad_01" x1="64.279%" x2="0%" y1="76.604%"
                                                    y2="0%">
                                                    <stop offset="0%" stop-color="rgb(1,230,248)" stop-opacity="1" />
                                                    <stop offset="100%" stop-color="rgb(29,62,222)" stop-opacity="1" />
                                                </linearGradient>
                                            </defs>
                                            <path fill-rule="evenodd" opacity="0.102" fill="url(#PSgrad_01)"
                                                d="M616.656,2.494 L89.351,98.948 C19.867,111.658 -16.508,176.639 7.408,240.130 L122.755,546.348 C141.761,596.806 203.597,623.407 259.843,609.597 L697.535,502.126 C748.221,489.680 783.967,441.432 777.751,392.742 L739.837,95.775 C732.096,35.145 677.715,-8.675 616.656,2.494 Z" />
                                        </svg>
                                        <!-- *************-->

                                        <svg width="100%" viewBox="0 0 700 500">
                                            <clipPath id="clip-path">
                                                <path
                                                    d="M89.479,0.180 L512.635,25.932 C568.395,29.326 603.115,76.927 590.357,129.078 L528.827,380.603 C518.688,422.048 472.661,448.814 427.190,443.300 L73.350,400.391 C32.374,395.422 -0.267,360.907 -0.002,322.064 L1.609,85.154 C1.938,36.786 40.481,-2.801 89.479,0.180 Z">
                                                </path>
                                            </clipPath>
                                            <!-- xlink:href for modern browsers, src for IE8- -->
                                            <image clip-path="url(#clip-path)" xlink:href="<%= about.image %>"
                                                width="100%" height="465" class="svg__image"></image>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <h2>
                                    <%= about.title %>
                                </h2>
                                <p style="color: brown;">
                                    <%= about.content %>
                                </p>
                                <a href="/contact">Contact Us <i class="fa fa-angle-right" aria-hidden="true"></i></a>
                            </div>
                            <% } %>
                    </div>
                </div>
            </div>

            <!-- Features Section -->
<div class="container-fluid gtco-feature" id="features"
  style="margin-bottom: 150px; background-color: #f7f5f5; padding-top: 50px; padding-bottom: 50px;">
  <div class="container">
    <div class="row mb-5 text-center">
      <div class="col-12">
        <h2 class="fw-bold">Our Features</h2>
        <p class="text-muted">
          Discover the tools and features that make WorkNestly the best platform for freelancers and clients.
        </p>
      </div>
    </div>

    <div class="row g-4 justify-content-center">
      <% 
        const icons = ['fa fa-user', 'fa fa-briefcase', 'fa fa-comments', 'fa fa-tasks'];
      %>
      <% features.forEach((feature, index) => { %>
      <div class="col-md-3">
        <div class="card h-100 text-center border-0 feature-card">
          <div class="card-body p-4">
            <i class="<%= icons[index % icons.length] %> fa-3x mb-3 text-primary feature-icon"></i>
            <h5 class="card-title fw-bold"><%= feature.title %></h5>
            <p class="card-text text-muted"><%= feature.content %></p>
          </div>
        </div>
      </div>
      <% }) %>
    </div>
  </div>
</div>


            <!-- Job Board Section -->
            <div class="container-fluid gtco-job-board mt-5" id="jobs" style="margin-bottom: 150px; margin-top: 50px;">
                <div class="container">
                    <h2>Filter Jobs</h2>
                    <form action="/" method="GET" class="row g-3 mb-5">

                        <!-- Skills -->
                        <div class="col-md-3">
                            <label for="skills" class="form-label">Skills</label>
                            <input type="text" name="skills" id="skills" class="form-control"
                                value="<%= query.skills || '' %>" placeholder="e.g. JavaScript">
                        </div>

                        <!-- Min Budget -->
                        <div class="col-md-2">
                            <label for="minBudget" class="form-label">Min Budget ($)</label>
                            <input type="number" name="minBudget" id="minBudget" class="form-control"
                                value="<%= query.minBudget ? query.minBudget : '' %>">
                        </div>

                        <!-- Max Budget -->
                        <div class="col-md-2">
                            <label for="maxBudget" class="form-label">Max Budget ($)</label>
                            <input type="number" name="maxBudget" id="maxBudget" class="form-control"
                                value="<%= query.maxBudget ? query.maxBudget : '' %>">
                        </div>

                        <!-- Status Filter -->
                        <div class="col-md-2">
                            <label for="status" class="form-label">Status</label>
                            <select name="status" id="status" class="form-control">
                                <option value="">All</option>
                                <option value="open" <%=query.status==='open' ? 'selected' : '' %>>Open</option>
                                <option value="in_progress" <%=query.status==='in_progress' ? 'selected' : '' %>>In
                                    Progress</option>
                                <option value="completed" <%=query.status==='completed' ? 'selected' : '' %>>Completed
                                </option>
                                <option value="closed" <%=query.status==='closed' ? 'selected' : '' %>>Closed</option>
                            </select>
                        </div>

                        <!-- Posted Date -->
                        <div class="col-md-3">
                            <label for="postedDate" class="form-label">Posted After</label>
                            <input type="date" name="postedDate" id="postedDate" class="form-control"
                                value="<%= query.postedDate ? query.postedDate : '' %>">
                        </div>

                        <!-- Submit Button -->
                        <div class="col-12 d-flex justify-content-end">
                            <button type="submit" class="submit-button mt-3">Apply Filters</button>
                        </div>

                    </form>
                    <div class="row mb-4">
                        <div class="col-md-6">
                            <h2>Available Jobs</h2>
                        </div>
                    </div>
                    <div class="col-12 d-flex justify-content-end mb-5">
                        <a href="#jobs">
                            Browse All Jobs<i class="fa fa-briefcase me-2"></i>
                        </a>
                    </div>

                    <!-- Job Cards -->
                    <div class="row">
                        <% if (jobs.length===0) { %>
                            <div class="col-12">
                                <div class="alert alert-warning">No jobs found.</div>
                            </div>
                            <% } %>

                                <% jobs.forEach(job=> { %>
                                    <div class="col-md-4 mb-4">
                                        <div class="card h-100 shadow-sm border-left-primary">

                                            <!-- Job Image -->
                                            <% if (job.image) { %>
                                                <img src="<%= job.image %>" class="card-img-top" alt="<%= job.title %>"
                                                    style="height:200px; object-fit:cover;">
                                                <% } else { %>
                                                    <img src="/frontend/images/no-job.png" class="card-img-top"
                                                        alt="No Image" style="height:200px; object-fit:cover;">
                                                    <% } %>

                                                        <div class="card-body d-flex flex-column">
                                                            <h5 class="card-title">
                                                                <%= job.title %>
                                                            </h5>
                                                            <p class="text-muted mb-1">
                                                                <small><strong>Budget:</strong> $<%= job.budget %> |
                                                                        <strong>Status:</strong>
                                                                        <%= job.status || "Open" %></small>
                                                            </p>
                                                            <p class="text-muted mb-2">
                                                                <small><strong>Skills:</strong>
                                                                    <%= job.skills?.join(', ') || "None" %></small>
                            </p>
                            <p class="card-text flex-grow-1">
                                <%= job.description.length > 100 ? job.description.substring(0, 100) + "..." : job.description %>
                            </p>
                            <p class="text-end text-muted mb-2">
                                <small>Posted on: <%= job.createdAt.toDateString() %></small>
                            </p>
                            <div class="d-flex justify-content-between">
                            <a href="/job/<%= job._id %>" class="btn btn-primary btn-sm">View Details<i class="fa fa-eye"></i></a>
                            </div>
                            
                        </div>
                    </div>
                </div>
            <% }) %>
        </div>
    </div>
</div>
<!-- End Job Board Section -->
    <%-include('./layouts/footer')%>
    </body>

</html>